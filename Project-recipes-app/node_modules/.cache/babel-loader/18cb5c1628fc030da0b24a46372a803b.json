{"ast":null,"code":"var _jsxFileName = \"/home/phlopes/Projetos/sd-010-a-project-recipes-app/src/pages/ExploreByIngredient/index.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Header from '../../components/header';\nimport MenuFooter from '../../components/menuFooter';\nimport RecipeCard from '../RecipesMain/RecipeCard';\nimport { AppContext } from '../../context/AppContext';\nimport Loading from '../../components/Loading/Loading';\nexport default function ExploreByIngredient({\n  match\n}) {\n  const [isLoading, setIsLoading] = useState(false);\n  const {\n    path\n  } = match;\n  const {\n    context\n  } = useContext(AppContext);\n  const {\n    setByIngredients,\n    byIngredients\n  } = context;\n  const NUM_RECIPES_SHOWN = 12;\n  useEffect(() => {\n    setIsLoading(true);\n    const controller = new AbortController();\n    const page = path.includes('/comidas') ? 'themealdb' : 'thecocktaildb';\n    const url = `https://www.${page}.com/api/json/v1/1/list.php?i=list`;\n    fetch(url, {\n      signal: controller.signal\n    }).then(data => data.json()).then(data => data.meals || data.drinks).catch(error => console.log(error)).then(ingredients => {\n      ingredients.splice(NUM_RECIPES_SHOWN, ingredients.length - 1);\n      setByIngredients(ingredients);\n      setIsLoading(false);\n    });\n    return () => {\n      setIsLoading(false);\n      controller.abort();\n    };\n  }, [path]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    title: \"Explorar Ingredients\",\n    isSearch: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list-main-recipes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, isLoading ? /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 22\n    }\n  }) : byIngredients && byIngredients.map((ingredient, index) => /*#__PURE__*/React.createElement(Link, {\n    to: path.includes('/comidas') ? '/comidas' : '/bebidas}',\n    key: ingredient.idIngredient || ingredient.strIngredient1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  }, ' ', /*#__PURE__*/React.createElement(RecipeCard, {\n    recipe: ingredient,\n    index: index,\n    isMain: false,\n    path: path.includes('/comidas') ? 'themealdb' : 'thecocktaildb',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(MenuFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }));\n}\nExploreByIngredient.propTypes = {\n  match: PropTypes.shape({\n    path: PropTypes.string.isRequired\n  }).isRequired\n};","map":{"version":3,"sources":["/home/phlopes/Projetos/sd-010-a-project-recipes-app/src/pages/ExploreByIngredient/index.js"],"names":["React","useContext","useEffect","useState","Link","PropTypes","Header","MenuFooter","RecipeCard","AppContext","Loading","ExploreByIngredient","match","isLoading","setIsLoading","path","context","setByIngredients","byIngredients","NUM_RECIPES_SHOWN","controller","AbortController","page","includes","url","fetch","signal","then","data","json","meals","drinks","catch","error","console","log","ingredients","splice","length","abort","map","ingredient","index","idIngredient","strIngredient1","propTypes","shape","string","isRequired"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Header from '../../components/header';\nimport MenuFooter from '../../components/menuFooter';\nimport RecipeCard from '../RecipesMain/RecipeCard';\nimport { AppContext } from '../../context/AppContext';\nimport Loading from '../../components/Loading/Loading';\n\nexport default function ExploreByIngredient({ match }) {\n  const [isLoading, setIsLoading] = useState(false);\n  const { path } = match;\n  const { context } = useContext(AppContext);\n  const { setByIngredients, byIngredients } = context;\n  const NUM_RECIPES_SHOWN = 12;\n\n  useEffect(() => {\n    setIsLoading(true);\n    const controller = new AbortController();\n    const page = path.includes('/comidas') ? 'themealdb' : 'thecocktaildb';\n    const url = `https://www.${page}.com/api/json/v1/1/list.php?i=list`;\n    fetch(url, { signal: controller.signal })\n      .then((data) => data.json())\n      .then((data) => data.meals || data.drinks)\n      .catch((error) => console.log(error))\n      .then((ingredients) => {\n        ingredients.splice(NUM_RECIPES_SHOWN, ingredients.length - 1);\n        setByIngredients(ingredients);\n        setIsLoading(false);\n      });\n\n    return (() => {\n      setIsLoading(false);\n      controller.abort();\n    });\n  }, [path]);\n\n  return (\n    <div>\n      <Header title=\"Explorar Ingredients\" isSearch={ false } />\n      <div className=\"list-main-recipes\">\n        {isLoading ? <Loading />\n          : byIngredients && byIngredients.map(\n            (ingredient, index) => (\n              <Link\n                to={ path.includes('/comidas')\n                  ? '/comidas'\n                  : '/bebidas}' }\n                key={ ingredient.idIngredient || ingredient.strIngredient1 }\n              >\n                {' '}\n                <RecipeCard\n                  recipe={ ingredient }\n                  index={ index }\n                  isMain={ false }\n                  path={ path.includes('/comidas') ? 'themealdb' : 'thecocktaildb' }\n                />\n              </Link>\n            ),\n          )}\n      </div>\n      <MenuFooter />\n    </div>\n  );\n}\nExploreByIngredient.propTypes = {\n  match: PropTypes.shape({\n    path: PropTypes.string.isRequired,\n  }).isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}