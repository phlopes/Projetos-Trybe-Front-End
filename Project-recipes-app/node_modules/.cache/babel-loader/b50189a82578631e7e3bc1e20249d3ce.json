{"ast":null,"code":"var _jsxFileName = \"/home/phlopes/Projetos/sd-010-a-project-recipes-app/src/pages/RecipesProgress/index.js\";\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Image from './Image';\nimport Title from './Title';\nimport BtnShare from './BtnShare';\nimport BtnFavorite from './BtnFavorite';\nimport Category from './Category';\nimport Ingredients from './Ingredients';\nimport Instructions from './Instructions';\nimport { AppContext } from '../../context/AppContext';\nimport BtnFinishRecipe from './BtnFinishRecipe';\nexport default function RecipesProgress({\n  match\n}) {\n  const {\n    params,\n    url: urlOrigin\n  } = match;\n  const {\n    id\n  } = params;\n  const {\n    context\n  } = useContext(AppContext);\n  const {\n    setPageOrigin,\n    pageOrigin,\n    recipe,\n    setRecipe\n  } = context;\n  const key = 'inProgressRecipes';\n  const URL_CUT = -12;\n  const url = urlOrigin.slice(0, URL_CUT);\n  const [fromStorage, setFromStorage] = useState('');\n\n  function getFromStorage() {\n    const storageValue = localStorage.getItem(key);\n\n    if (storageValue) {\n      const result = JSON.parse(storageValue);\n      const values = Object.keys(result);\n      const [idValue] = values;\n      setFromStorage(idValue);\n    }\n  }\n\n  async function getRecipeStorage() {\n    if (fromStorage && pageOrigin === id) {\n      const data = await fetch(`https://www.${pageOrigin}.com/api/json/v1/1/lookup.php?i=${fromStorage}`);\n      const results = await data.json();\n      setRecipe(pageOrigin === 'themealdb' ? results.meals[0] : results.drinks[0]);\n    }\n\n    const data = await fetch(`https://www.${pageOrigin}.com/api/json/v1/1/lookup.php?i=${id}`);\n    const results = await data.json();\n    setRecipe(pageOrigin === 'themealdb' ? results.meals[0] : results.drinks[0]);\n  }\n\n  useEffect(() => {\n    setPageOrigin(urlOrigin.includes('/comidas/') ? 'themealdb' : 'thecocktaildb');\n  }, [urlOrigin]);\n  useEffect(() => {\n    getRecipeStorage();\n  }, [pageOrigin, fromStorage, id]);\n  useEffect(() => {\n    getFromStorage();\n  }, [recipe]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"recipes-progress-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"recipes-progress\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: recipe.strMealThumb || recipe.strDrinkThumb,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    title: recipe.strMeal || recipe.strDrink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buttons-share-favorite\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(BtnShare, {\n    url: url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(BtnFavorite, {\n    id: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Category, {\n    category: recipe.strCategory || recipe.strAlcoholic,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"Ingredientes\"), /*#__PURE__*/React.createElement(Ingredients, {\n    recipe: recipe,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, \"Instru\\xE7\\xF5es\"), /*#__PURE__*/React.createElement(Instructions, {\n    instruction: recipe.strInstructions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(BtnFinishRecipe, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }));\n}\nRecipesProgress.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.string.isRequired,\n    url: PropTypes.string.isRequired\n  }).isRequired\n};","map":{"version":3,"sources":["/home/phlopes/Projetos/sd-010-a-project-recipes-app/src/pages/RecipesProgress/index.js"],"names":["React","useState","useEffect","useContext","PropTypes","Image","Title","BtnShare","BtnFavorite","Category","Ingredients","Instructions","AppContext","BtnFinishRecipe","RecipesProgress","match","params","url","urlOrigin","id","context","setPageOrigin","pageOrigin","recipe","setRecipe","key","URL_CUT","slice","fromStorage","setFromStorage","getFromStorage","storageValue","localStorage","getItem","result","JSON","parse","values","Object","keys","idValue","getRecipeStorage","data","fetch","results","json","meals","drinks","includes","strMealThumb","strDrinkThumb","strMeal","strDrink","strCategory","strAlcoholic","strInstructions","propTypes","shape","string","isRequired"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Image from './Image';\nimport Title from './Title';\nimport BtnShare from './BtnShare';\nimport BtnFavorite from './BtnFavorite';\nimport Category from './Category';\nimport Ingredients from './Ingredients';\nimport Instructions from './Instructions';\nimport { AppContext } from '../../context/AppContext';\nimport BtnFinishRecipe from './BtnFinishRecipe';\n\nexport default function RecipesProgress({ match }) {\n  const { params, url: urlOrigin } = match;\n  const { id } = params;\n  const { context } = useContext(AppContext);\n  const { setPageOrigin, pageOrigin, recipe, setRecipe } = context;\n  const key = 'inProgressRecipes';\n  const URL_CUT = -12;\n  const url = urlOrigin.slice(0, URL_CUT);\n  const [fromStorage, setFromStorage] = useState('');\n\n  function getFromStorage() {\n    const storageValue = localStorage.getItem(key);\n    if (storageValue) {\n      const result = JSON.parse(storageValue);\n      const values = Object.keys(result);\n      const [idValue] = values;\n      setFromStorage(idValue);\n    }\n  }\n\n  async function getRecipeStorage() {\n    if (fromStorage && pageOrigin === id) {\n      const data = await\n      fetch(`https://www.${pageOrigin}.com/api/json/v1/1/lookup.php?i=${fromStorage}`);\n      const results = await data.json();\n      setRecipe(pageOrigin === 'themealdb' ? results.meals[0] : results.drinks[0]);\n    }\n    const data = await\n    fetch(`https://www.${pageOrigin}.com/api/json/v1/1/lookup.php?i=${id}`);\n    const results = await data.json();\n    setRecipe(pageOrigin === 'themealdb' ? results.meals[0] : results.drinks[0]);\n  }\n\n  useEffect(() => {\n    setPageOrigin(urlOrigin.includes('/comidas/') ? 'themealdb' : 'thecocktaildb');\n  }, [urlOrigin]);\n\n  useEffect(() => {\n    getRecipeStorage();\n  }, [pageOrigin, fromStorage, id]);\n\n  useEffect(() => {\n    getFromStorage();\n  }, [recipe]);\n\n  return (\n    <div className=\"recipes-progress-container\">\n      <div className=\"recipes-progress\">\n        <Image src={ recipe.strMealThumb || recipe.strDrinkThumb } />\n\n        <div className=\"title\">\n          <Title title={ recipe.strMeal || recipe.strDrink } />\n          <div className=\"buttons-share-favorite\">\n            <BtnShare url={ url } />\n\n            <BtnFavorite id={ id } />\n          </div>\n          <Category category={ recipe.strCategory || recipe.strAlcoholic } />\n\n          <h2>Ingredientes</h2>\n          <Ingredients recipe={ recipe } />\n          <h2>Instruções</h2>\n          <Instructions instruction={ recipe.strInstructions } />\n        </div>\n\n      </div>\n      <BtnFinishRecipe />\n    </div>\n  );\n}\n\nRecipesProgress.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.string.isRequired,\n    url: PropTypes.string.isRequired,\n  }).isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}