{"ast":null,"code":"var _jsxFileName = \"/home/phlopes/Projetos/sd-010-a-project-recipes-app/src/pages/RecipeDetails/StartRecipeBtn.js\";\nimport React, { useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { AppContext } from '../../context/AppContext';\nexport default function StartRecipeBtn({\n  recipe\n}) {\n  const {\n    context\n  } = useContext(AppContext);\n  const {\n    pageOrigin,\n    toDoneStorage\n  } = context;\n  const classNameBtn = 'start-recipe-btn';\n  useEffect(() => {\n    if (toDoneStorage && toDoneStorage.some(doneRecipe => doneRecipe.id === recipe.idMeal || recipe.idDrink)) {\n      document.getElementsByClassName(classNameBtn)[0].style.display = 'none';\n    }\n\n    return () => {\n      document.getElementsByClassName(classNameBtn)[0].style.display = 'unset';\n    };\n  }, [toDoneStorage]);\n\n  function checkTextBtn() {\n    const storageValue = JSON.parse(localStorage.getItem('inProgressRecipes'));\n    console.log(storageValue);\n\n    if (storageValue && (Object.keys(storageValue).includes(recipe.idDrink) || Object.keys(storageValue).includes(recipe.idMeal))) {\n      return 'Continuar Receita';\n    }\n\n    return 'Iniciar Receita';\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: pageOrigin === 'themealdb' ? `${recipe.idMeal}/in-progress` : `${recipe.idDrink}/in-progress`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"start-recipe-btn\",\n    className: classNameBtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, checkTextBtn())));\n}\nStartRecipeBtn.propTypes = {\n  recipe: PropTypes.objectOf(PropTypes.string).isRequired\n};","map":{"version":3,"sources":["/home/phlopes/Projetos/sd-010-a-project-recipes-app/src/pages/RecipeDetails/StartRecipeBtn.js"],"names":["React","useEffect","useContext","Link","PropTypes","AppContext","StartRecipeBtn","recipe","context","pageOrigin","toDoneStorage","classNameBtn","some","doneRecipe","id","idMeal","idDrink","document","getElementsByClassName","style","display","checkTextBtn","storageValue","JSON","parse","localStorage","getItem","console","log","Object","keys","includes","propTypes","objectOf","string","isRequired"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,QAA6C,OAA7C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AAEA,eAAe,SAASC,cAAT,CAAwB;AAAEC,EAAAA;AAAF,CAAxB,EAAoC;AACjD,QAAM;AAAEC,IAAAA;AAAF,MAAcN,UAAU,CAACG,UAAD,CAA9B;AACA,QAAM;AAAEI,IAAAA,UAAF;AAAcC,IAAAA;AAAd,MAAgCF,OAAtC;AACA,QAAMG,YAAY,GAAG,kBAArB;AAEAV,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIS,aAAa,IAAIA,aAAa,CAACE,IAAd,CAClBC,UAAD,IAAgBA,UAAU,CAACC,EAAX,KAAkBP,MAAM,CAACQ,MAAzB,IAAmCR,MAAM,CAACS,OADvC,CAArB,EAEG;AACDC,MAAAA,QAAQ,CAACC,sBAAT,CAAgCP,YAAhC,EAA8C,CAA9C,EAAiDQ,KAAjD,CAAuDC,OAAvD,GAAiE,MAAjE;AACD;;AAED,WAAO,MAAM;AACXH,MAAAA,QAAQ,CAACC,sBAAT,CAAgCP,YAAhC,EAA8C,CAA9C,EAAiDQ,KAAjD,CAAuDC,OAAvD,GAAiE,OAAjE;AACD,KAFD;AAGD,GAVQ,EAUN,CAACV,aAAD,CAVM,CAAT;;AAYA,WAASW,YAAT,GAAwB;AACtB,UAAMC,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,mBAArB,CAAX,CAArB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYN,YAAZ;;AACA,QAAIA,YAAY,KACdO,MAAM,CAACC,IAAP,CAAYR,YAAZ,EAA0BS,QAA1B,CAAmCxB,MAAM,CAACS,OAA1C,KACGa,MAAM,CAACC,IAAP,CAAYR,YAAZ,EAA0BS,QAA1B,CAAmCxB,MAAM,CAACQ,MAA1C,CAFW,CAAhB,EAGG;AACD,aAAO,mBAAP;AACD;;AACD,WAAO,iBAAP;AACD;;AAED,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AACE,IAAA,EAAE,EAAGN,UAAU,KAAK,WAAf,GACA,GAAEF,MAAM,CAACQ,MAAO,cADhB,GAEA,GAAER,MAAM,CAACS,OAAQ,cAHxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME;AACE,IAAA,IAAI,EAAC,QADP;AAEE,mBAAY,kBAFd;AAGE,IAAA,SAAS,EAAGL,YAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGU,YAAY,EANf,CANF,CADF,CADF;AAoBD;AAEDf,cAAc,CAAC0B,SAAf,GAA2B;AACzBzB,EAAAA,MAAM,EAAEH,SAAS,CAAC6B,QAAV,CAAmB7B,SAAS,CAAC8B,MAA7B,EAAqCC;AADpB,CAA3B","sourcesContent":["import React, { useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { AppContext } from '../../context/AppContext';\n\nexport default function StartRecipeBtn({ recipe }) {\n  const { context } = useContext(AppContext);\n  const { pageOrigin, toDoneStorage } = context;\n  const classNameBtn = 'start-recipe-btn';\n\n  useEffect(() => {\n    if (toDoneStorage && toDoneStorage.some(\n      (doneRecipe) => doneRecipe.id === recipe.idMeal || recipe.idDrink,\n    )) {\n      document.getElementsByClassName(classNameBtn)[0].style.display = 'none';\n    }\n\n    return () => {\n      document.getElementsByClassName(classNameBtn)[0].style.display = 'unset';\n    };\n  }, [toDoneStorage]);\n\n  function checkTextBtn() {\n    const storageValue = JSON.parse(localStorage.getItem('inProgressRecipes'));\n    console.log(storageValue);\n    if (storageValue && (\n      Object.keys(storageValue).includes(recipe.idDrink)\n      || Object.keys(storageValue).includes(recipe.idMeal)\n    )) {\n      return 'Continuar Receita';\n    }\n    return 'Iniciar Receita';\n  }\n\n  return (\n    <div>\n      <Link\n        to={ pageOrigin === 'themealdb'\n          ? `${recipe.idMeal}/in-progress`\n          : `${recipe.idDrink}/in-progress` }\n\n      >\n        <button\n          type=\"button\"\n          data-testid=\"start-recipe-btn\"\n          className={ classNameBtn }\n        >\n\n          {checkTextBtn()}\n\n        </button>\n      </Link>\n    </div>\n  );\n}\n\nStartRecipeBtn.propTypes = {\n  recipe: PropTypes.objectOf(PropTypes.string).isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}