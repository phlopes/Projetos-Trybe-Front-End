{"ast":null,"code":"var _jsxFileName = \"/home/phlopes/Projetos/sd-010-a-project-recipes-app/src/pages/RecipesProgress/BtnFinishRecipe.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AppContext } from '../../context/AppContext'; // import { Container } from './styles';\n\nexport default function BtnFinishRecipe() {\n  const {\n    context\n  } = useContext(AppContext);\n  const [doneRecipe, setDoneRecipe] = useState('');\n  const {\n    checkedState,\n    recipe,\n    pageOrigin\n  } = context;\n  const key = 'doneRecipes';\n  useEffect(() => {\n    const data = new Date();\n    const day = data.getDate().toString().padStart(2, '0');\n    const month = (data.getMonth() + 1).toString().padStart(2, '0');\n    const year = data.getFullYear();\n    const doneDate = `${day}/${month}/${year}`;\n    setDoneRecipe({\n      id: recipe.idMeal || recipe.idDrink,\n      type: pageOrigin.includes('themealdb') ? 'comida' : 'bebida',\n      area: recipe.strArea || '',\n      category: recipe.strCategory || '',\n      alcoholicOrNot: recipe.strAlcoholic || '',\n      name: recipe.strMeal || recipe.strDrink,\n      image: recipe.strMealThumb || recipe.strDrinkThumb,\n      doneDate,\n      tags: [recipe.strTags] || []\n    });\n  }, [recipe]);\n\n  function updateDoneStorage() {\n    const doneStorage = JSON.parse(localStorage.getItem(key));\n\n    if (doneStorage) {\n      const newListDoneRecipes = [...doneStorage, doneRecipe];\n      localStorage.setItem(key, JSON.stringify(newListDoneRecipes));\n    } else {\n      localStorage.setItem(key, JSON.stringify([doneRecipe]));\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Link, {\n    to: \"/receitas-feitas\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"finish-recipe-btn\",\n    type: \"button\",\n    disabled: checkedState,\n    onClick: updateDoneStorage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, \"Finalizar Receita\"));\n}","map":{"version":3,"sources":["/home/phlopes/Projetos/sd-010-a-project-recipes-app/src/pages/RecipesProgress/BtnFinishRecipe.js"],"names":["React","useContext","useEffect","useState","Link","AppContext","BtnFinishRecipe","context","doneRecipe","setDoneRecipe","checkedState","recipe","pageOrigin","key","data","Date","day","getDate","toString","padStart","month","getMonth","year","getFullYear","doneDate","id","idMeal","idDrink","type","includes","area","strArea","category","strCategory","alcoholicOrNot","strAlcoholic","name","strMeal","strDrink","image","strMealThumb","strDrinkThumb","tags","strTags","updateDoneStorage","doneStorage","JSON","parse","localStorage","getItem","newListDoneRecipes","setItem","stringify"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,UAAT,QAA2B,0BAA3B,C,CACA;;AAEA,eAAe,SAASC,eAAT,GAA2B;AACxC,QAAM;AAAEC,IAAAA;AAAF,MAAcN,UAAU,CAACI,UAAD,CAA9B;AACA,QAAM,CAACG,UAAD,EAAaC,aAAb,IAA8BN,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM;AAAEO,IAAAA,YAAF;AAAgBC,IAAAA,MAAhB;AAAwBC,IAAAA;AAAxB,MAAuCL,OAA7C;AACA,QAAMM,GAAG,GAAG,aAAZ;AAEAX,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMY,IAAI,GAAG,IAAIC,IAAJ,EAAb;AACA,UAAMC,GAAG,GAAGF,IAAI,CAACG,OAAL,GAAeC,QAAf,GAA0BC,QAA1B,CAAmC,CAAnC,EAAsC,GAAtC,CAAZ;AACA,UAAMC,KAAK,GAAG,CAACN,IAAI,CAACO,QAAL,KAAkB,CAAnB,EAAsBH,QAAtB,GAAiCC,QAAjC,CAA0C,CAA1C,EAA6C,GAA7C,CAAd;AACA,UAAMG,IAAI,GAAGR,IAAI,CAACS,WAAL,EAAb;AACA,UAAMC,QAAQ,GAAI,GAAER,GAAI,IAAGI,KAAM,IAAGE,IAAK,EAAzC;AAEAb,IAAAA,aAAa,CAAC;AACZgB,MAAAA,EAAE,EAAEd,MAAM,CAACe,MAAP,IAAiBf,MAAM,CAACgB,OADhB;AAEZC,MAAAA,IAAI,EAAEhB,UAAU,CAACiB,QAAX,CAAoB,WAApB,IAAmC,QAAnC,GAA8C,QAFxC;AAGZC,MAAAA,IAAI,EAAEnB,MAAM,CAACoB,OAAP,IAAkB,EAHZ;AAIZC,MAAAA,QAAQ,EAAErB,MAAM,CAACsB,WAAP,IAAsB,EAJpB;AAKZC,MAAAA,cAAc,EAAEvB,MAAM,CAACwB,YAAP,IAAuB,EAL3B;AAMZC,MAAAA,IAAI,EAAEzB,MAAM,CAAC0B,OAAP,IAAkB1B,MAAM,CAAC2B,QANnB;AAOZC,MAAAA,KAAK,EAAE5B,MAAM,CAAC6B,YAAP,IAAuB7B,MAAM,CAAC8B,aAPzB;AAQZjB,MAAAA,QARY;AASZkB,MAAAA,IAAI,EAAE,CAAC/B,MAAM,CAACgC,OAAR,KAAoB;AATd,KAAD,CAAb;AAWD,GAlBQ,EAkBN,CAAChC,MAAD,CAlBM,CAAT;;AAoBA,WAASiC,iBAAT,GAA6B;AAC3B,UAAMC,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBpC,GAArB,CAAX,CAApB;;AACA,QAAIgC,WAAJ,EAAiB;AACf,YAAMK,kBAAkB,GAAG,CACzB,GAAGL,WADsB,EAEzBrC,UAFyB,CAA3B;AAIAwC,MAAAA,YAAY,CAACG,OAAb,CAAqBtC,GAArB,EAA0BiC,IAAI,CAACM,SAAL,CAAeF,kBAAf,CAA1B;AACD,KAND,MAMO;AACLF,MAAAA,YAAY,CAACG,OAAb,CAAqBtC,GAArB,EAA0BiC,IAAI,CAACM,SAAL,CAAe,CAAC5C,UAAD,CAAf,CAA1B;AACD;AACF;;AAED,sBACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,kBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,mBAAY,mBADd;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,QAAQ,EAAGE,YAHb;AAIE,IAAA,OAAO,EAAGkC,iBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,CADF;AAgBD","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AppContext } from '../../context/AppContext';\n// import { Container } from './styles';\n\nexport default function BtnFinishRecipe() {\n  const { context } = useContext(AppContext);\n  const [doneRecipe, setDoneRecipe] = useState('');\n  const { checkedState, recipe, pageOrigin } = context;\n  const key = 'doneRecipes';\n\n  useEffect(() => {\n    const data = new Date();\n    const day = data.getDate().toString().padStart(2, '0');\n    const month = (data.getMonth() + 1).toString().padStart(2, '0');\n    const year = data.getFullYear();\n    const doneDate = `${day}/${month}/${year}`;\n\n    setDoneRecipe({\n      id: recipe.idMeal || recipe.idDrink,\n      type: pageOrigin.includes('themealdb') ? 'comida' : 'bebida',\n      area: recipe.strArea || '',\n      category: recipe.strCategory || '',\n      alcoholicOrNot: recipe.strAlcoholic || '',\n      name: recipe.strMeal || recipe.strDrink,\n      image: recipe.strMealThumb || recipe.strDrinkThumb,\n      doneDate,\n      tags: [recipe.strTags] || [],\n    });\n  }, [recipe]);\n\n  function updateDoneStorage() {\n    const doneStorage = JSON.parse(localStorage.getItem(key));\n    if (doneStorage) {\n      const newListDoneRecipes = [\n        ...doneStorage,\n        doneRecipe,\n      ];\n      localStorage.setItem(key, JSON.stringify(newListDoneRecipes));\n    } else {\n      localStorage.setItem(key, JSON.stringify([doneRecipe]));\n    }\n  }\n\n  return (\n    <Link to=\"/receitas-feitas\">\n      <button\n        data-testid=\"finish-recipe-btn\"\n        type=\"button\"\n        disabled={ checkedState }\n        onClick={ updateDoneStorage }\n\n      >\n\n        Finalizar Receita\n\n      </button>\n    </Link>\n\n  );\n}\n"]},"metadata":{},"sourceType":"module"}