{"ast":null,"code":"var _jsxFileName = \"/home/phlopes/Projetos/sd-010-a-project-recipes-app/src/pages/RecipesProgress/index.js\";\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Image from './Image';\nimport Title from './Title';\nimport BtnShare from './BtnShare';\nimport BtnFavorite from './BtnFavorite';\nimport Category from './Category';\nimport Ingredients from './Ingredients';\nimport Instructions from './Instructions';\nimport { AppContext } from '../../context/AppContext';\nimport BtnFinishRecipe from './BtnFinishRecipe';\nexport default function RecipesProgress({\n  match\n}) {\n  const {\n    params,\n    url\n  } = match;\n  const {\n    id: idOrigin\n  } = params;\n  const {\n    context\n  } = useContext(AppContext);\n  const {\n    setPageOrigin,\n    pageOrigin\n  } = context;\n  const [recipeInProgress, setRecipeInProgress] = useState('');\n  const key = 'inProgressRecipes';\n  const [fromStorage, setFromStorage] = useState('');\n\n  function getFromStorage() {\n    const storageValue = localStorage.getItem(key);\n\n    if (storageValue) {\n      const result = JSON.parse(storageValue);\n      const values = Object.keys(result);\n      const [id] = values;\n      setFromStorage(id);\n    }\n  }\n\n  async function getRecipeStorage() {\n    if (fromStorage && pageOrigin === idOrigin) {\n      const data = await fetch(`https://www.${pageOrigin}.com/api/json/v1/1/lookup.php?i=${fromStorage}`);\n      const results = await data.json();\n      return setRecipeInProgress(results.meals || results.drinks);\n    }\n\n    const data = await fetch(`https://www.${pageOrigin}.com/api/json/v1/1/lookup.php?i=${idOrigin}`);\n    const results = await data.json();\n    return setRecipeInProgress(results.meals || results.drinks);\n  }\n\n  useEffect(() => {\n    console.log(match);\n    setPageOrigin(url.includes('/comidas/') ? 'themealdb' : 'thecocktaildb');\n  }, []);\n  useEffect(() => {\n    getRecipeStorage();\n  }, [pageOrigin, fromStorage]);\n  useEffect(() => {\n    getFromStorage();\n  }, [recipeInProgress]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, recipeInProgress && recipeInProgress.map((recipe, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: \"recipes-progress\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: recipe.strMealThumb || recipe.strDrinkThumb,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    title: recipe.strMeal || recipe.strDrink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(BtnShare, {\n    url: url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(BtnFavorite, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Category, {\n    category: recipe.strCategory || recipe.strAlcoholic,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, \"Ingredientes\"), /*#__PURE__*/React.createElement(Ingredients, {\n    recipe: recipe,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"Instru\\xE7\\xF5es\"), /*#__PURE__*/React.createElement(Instructions, {\n    instruction: recipe.strInstructions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(BtnFinishRecipe, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }));\n}\nRecipesProgress.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.string.isRequired,\n    url: PropTypes.string.isRequired\n  }).isRequired\n};","map":{"version":3,"sources":["/home/phlopes/Projetos/sd-010-a-project-recipes-app/src/pages/RecipesProgress/index.js"],"names":["React","useState","useEffect","useContext","PropTypes","Image","Title","BtnShare","BtnFavorite","Category","Ingredients","Instructions","AppContext","BtnFinishRecipe","RecipesProgress","match","params","url","id","idOrigin","context","setPageOrigin","pageOrigin","recipeInProgress","setRecipeInProgress","key","fromStorage","setFromStorage","getFromStorage","storageValue","localStorage","getItem","result","JSON","parse","values","Object","keys","getRecipeStorage","data","fetch","results","json","meals","drinks","console","log","includes","map","recipe","index","strMealThumb","strDrinkThumb","strMeal","strDrink","strCategory","strAlcoholic","strInstructions","propTypes","shape","string","isRequired"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Image from './Image';\nimport Title from './Title';\nimport BtnShare from './BtnShare';\nimport BtnFavorite from './BtnFavorite';\nimport Category from './Category';\nimport Ingredients from './Ingredients';\nimport Instructions from './Instructions';\nimport { AppContext } from '../../context/AppContext';\nimport BtnFinishRecipe from './BtnFinishRecipe';\n\nexport default function RecipesProgress({ match }) {\n  const { params, url } = match;\n  const { id: idOrigin } = params;\n  const { context } = useContext(AppContext);\n  const { setPageOrigin, pageOrigin } = context;\n  const [recipeInProgress, setRecipeInProgress] = useState('');\n  const key = 'inProgressRecipes';\n  const [fromStorage, setFromStorage] = useState('');\n\n  function getFromStorage() {\n    const storageValue = localStorage.getItem(key);\n    if (storageValue) {\n      const result = JSON.parse(storageValue);\n      const values = Object.keys(result);\n      const [id] = values;\n      setFromStorage(id);\n    }\n  }\n\n  async function getRecipeStorage() {\n    if (fromStorage && pageOrigin === idOrigin) {\n      const data = await\n      fetch(`https://www.${pageOrigin}.com/api/json/v1/1/lookup.php?i=${fromStorage}`);\n      const results = await data.json();\n      return setRecipeInProgress(results.meals || results.drinks);\n    }\n    const data = await\n    fetch(`https://www.${pageOrigin}.com/api/json/v1/1/lookup.php?i=${idOrigin}`);\n    const results = await data.json();\n    return setRecipeInProgress(results.meals || results.drinks);\n  }\n\n  useEffect(() => {\n    console.log(match);\n    setPageOrigin(url.includes('/comidas/') ? 'themealdb' : 'thecocktaildb');\n  }, []);\n\n  useEffect(() => {\n    getRecipeStorage();\n  }, [pageOrigin, fromStorage]);\n\n  useEffect(() => {\n    getFromStorage();\n  }, [recipeInProgress]);\n\n  return (\n    <div>\n      {recipeInProgress && recipeInProgress.map((recipe, index) => (\n        <div key={ index } className=\"recipes-progress\">\n          <Image src={ recipe.strMealThumb || recipe.strDrinkThumb } />\n\n          <div className=\"title\">\n            <Title title={ recipe.strMeal || recipe.strDrink } />\n            <BtnShare url={ url } />\n            <BtnFavorite />\n            <Category category={ recipe.strCategory || recipe.strAlcoholic } />\n\n            <h2>Ingredientes</h2>\n            <Ingredients recipe={ recipe } />\n            <h2>Instruções</h2>\n            <Instructions instruction={ recipe.strInstructions } />\n          </div>\n        </div>\n\n      ))}\n      <BtnFinishRecipe />\n\n    </div>\n  );\n}\n\nRecipesProgress.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.string.isRequired,\n    url: PropTypes.string.isRequired,\n  }).isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}