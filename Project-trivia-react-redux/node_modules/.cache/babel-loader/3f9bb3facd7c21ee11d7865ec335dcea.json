{"ast":null,"code":"var _jsxFileName = \"/home/phlopes/Projetos/sd-010-a-project-trivia-react-redux/src/components/Feedback.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Header from './Header';\nimport { resetQuestions, resetLogin, resetScore } from '../Redux/actions';\nimport '../styles/feedback.css';\n\nclass Feedback extends Component {\n  componentDidMount() {\n    const _this$props = this.props,\n          score = _this$props.score,\n          picture = _this$props.picture,\n          name = _this$props.name;\n    const rankingStorage = JSON.parse(localStorage.getItem('ranking'));\n    const newRankingStorage = [...rankingStorage, {\n      name,\n      score,\n      picture\n    }];\n    localStorage.setItem('ranking', JSON.stringify(newRankingStorage));\n  }\n\n  resetState() {\n    const _this$props2 = this.props,\n          resetQuestionsReducer = _this$props2.resetQuestionsReducer,\n          resetLoginReducer = _this$props2.resetLoginReducer,\n          resetScoreReducer = _this$props2.resetScoreReducer;\n    resetQuestionsReducer();\n    resetLoginReducer();\n    resetScoreReducer();\n  }\n\n  render() {\n    const lessThanThree = React.createElement(\"h1\", {\n      \"data-testid\": \"feedback-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, \"Podia ser melhor...\");\n    const moreThanThree = React.createElement(\"h1\", {\n      \"data-testid\": \"feedback-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, \"Mandou bem!\");\n\n    const _JSON$parse = JSON.parse(localStorage.getItem('state')),\n          _JSON$parse$player = _JSON$parse.player,\n          assertions = _JSON$parse$player.assertions,\n          score = _JSON$parse$player.score;\n\n    const numberAssertions = 3;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"feedback-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"feedback-score-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, assertions < numberAssertions ? lessThanThree : moreThanThree, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, \"Pontua\\xE7\\xE3o:\", React.createElement(\"span\", {\n      \"data-testid\": \"feedback-total-score\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, score)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, \"Total de acertos:\", React.createElement(\"span\", {\n      \"data-testid\": \"feedback-total-question\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, assertions))), React.createElement(\"div\", {\n      className: \"feedback-buttons-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"feedback_btn_next\",\n      onClick: () => this.resetState(),\n      type: \"button\",\n      \"data-testid\": \"btn-play-again\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Jogar Novamente\")), React.createElement(Link, {\n      to: \"/ranking\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"feedback_btn_next\",\n      type: \"button\",\n      \"data-testid\": \"btn-ranking\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Ver Ranking\")))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  name: state.loginReducer.name,\n  picture: state.loginReducer.picturePath,\n  score: state.scoreReducer.total\n});\n\nconst mapDispatchToProps = dispatch => ({\n  resetQuestionsReducer: () => dispatch(resetQuestions()),\n  resetLoginReducer: () => dispatch(resetLogin()),\n  resetScoreReducer: () => dispatch(resetScore())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Feedback);\nFeedback.propTypes = {\n  score: PropTypes.number,\n  picture: PropTypes.string,\n  name: PropTypes.string,\n  resetQuestionsReducer: PropTypes.func,\n  resetLoginReducer: PropTypes.func,\n  resetScoreReducer: PropTypes.func\n}.isRequired;","map":{"version":3,"sources":["/home/phlopes/Projetos/sd-010-a-project-trivia-react-redux/src/components/Feedback.jsx"],"names":["React","Component","Link","connect","PropTypes","Header","resetQuestions","resetLogin","resetScore","Feedback","componentDidMount","props","score","picture","name","rankingStorage","JSON","parse","localStorage","getItem","newRankingStorage","setItem","stringify","resetState","resetQuestionsReducer","resetLoginReducer","resetScoreReducer","render","lessThanThree","moreThanThree","player","assertions","numberAssertions","mapStateToProps","state","loginReducer","picturePath","scoreReducer","total","mapDispatchToProps","dispatch","propTypes","number","string","func","isRequired"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,cAAT,EAAyBC,UAAzB,EAAqCC,UAArC,QAAuD,kBAAvD;AACA,OAAO,wBAAP;;AAEA,MAAMC,QAAN,SAAuBR,SAAvB,CAAiC;AAC/BS,EAAAA,iBAAiB,GAAG;AAAA,wBACe,KAAKC,KADpB;AAAA,UACVC,KADU,eACVA,KADU;AAAA,UACHC,OADG,eACHA,OADG;AAAA,UACMC,IADN,eACMA,IADN;AAElB,UAAMC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,CAAvB;AACA,UAAMC,iBAAiB,GAAG,CAAC,GAAGL,cAAJ,EAAoB;AAAED,MAAAA,IAAF;AAAQF,MAAAA,KAAR;AAAeC,MAAAA;AAAf,KAApB,CAA1B;AACAK,IAAAA,YAAY,CAACG,OAAb,CAAqB,SAArB,EAAgCL,IAAI,CAACM,SAAL,CAAeF,iBAAf,CAAhC;AACD;;AAEDG,EAAAA,UAAU,GAAG;AAAA,yBAC6D,KAAKZ,KADlE;AAAA,UACHa,qBADG,gBACHA,qBADG;AAAA,UACoBC,iBADpB,gBACoBA,iBADpB;AAAA,UACuCC,iBADvC,gBACuCA,iBADvC;AAEXF,IAAAA,qBAAqB;AACrBC,IAAAA,iBAAiB;AACjBC,IAAAA,iBAAiB;AAClB;;AAEDC,EAAAA,MAAM,GAAG;AACP,UAAMC,aAAa,GAAG;AAAI,qBAAY,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAtB;AACA,UAAMC,aAAa,GAAG;AAAI,qBAAY,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAtB;;AAFO,wBAGmCb,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAHnC;AAAA,2CAGCW,MAHD;AAAA,UAGWC,UAHX,sBAGWA,UAHX;AAAA,UAGuBnB,KAHvB,sBAGuBA,KAHvB;;AAIP,UAAMoB,gBAAgB,GAAG,CAAzB;AACA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,UAAU,GAAGC,gBAAb,GAAgCJ,aAAhC,GAAgDC,aADnD,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAEE;AAAM,qBAAY,sBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2CjB,KAA3C,CAFF,CAFF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAEE;AAAM,qBAAY,yBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8CmB,UAA9C,CAFF,CANF,CADF,EAYE;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,SAAS,EAAC,mBADZ;AAEE,MAAA,OAAO,EAAG,MAAM,KAAKR,UAAL,EAFlB;AAGE,MAAA,IAAI,EAAC,QAHP;AAIE,qBAAY,gBAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,CADF,EAWE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,UAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,SAAS,EAAC,mBADZ;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,qBAAY,aAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CAXF,CAZF,CAFF,CADF;AAuCD;;AA3D8B;;AA8DjC,MAAMU,eAAe,GAAIC,KAAD,KAAY;AAClCpB,EAAAA,IAAI,EAAEoB,KAAK,CAACC,YAAN,CAAmBrB,IADS;AAElCD,EAAAA,OAAO,EAAEqB,KAAK,CAACC,YAAN,CAAmBC,WAFM;AAGlCxB,EAAAA,KAAK,EAAEsB,KAAK,CAACG,YAAN,CAAmBC;AAHQ,CAAZ,CAAxB;;AAMA,MAAMC,kBAAkB,GAAIC,QAAD,KAAe;AACxChB,EAAAA,qBAAqB,EAAE,MAAMgB,QAAQ,CAAClC,cAAc,EAAf,CADG;AAExCmB,EAAAA,iBAAiB,EAAE,MAAMe,QAAQ,CAACjC,UAAU,EAAX,CAFO;AAGxCmB,EAAAA,iBAAiB,EAAE,MAAMc,QAAQ,CAAChC,UAAU,EAAX;AAHO,CAAf,CAA3B;;AAMA,eAAeL,OAAO,CAAC8B,eAAD,EAAkBM,kBAAlB,CAAP,CAA6C9B,QAA7C,CAAf;AAEAA,QAAQ,CAACgC,SAAT,GAAqB;AACnB7B,EAAAA,KAAK,EAAER,SAAS,CAACsC,MADE;AAEnB7B,EAAAA,OAAO,EAAET,SAAS,CAACuC,MAFA;AAGnB7B,EAAAA,IAAI,EAAEV,SAAS,CAACuC,MAHG;AAInBnB,EAAAA,qBAAqB,EAAEpB,SAAS,CAACwC,IAJd;AAKnBnB,EAAAA,iBAAiB,EAAErB,SAAS,CAACwC,IALV;AAMnBlB,EAAAA,iBAAiB,EAAEtB,SAAS,CAACwC;AANV,EAOnBC,UAPF","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Header from './Header';\nimport { resetQuestions, resetLogin, resetScore } from '../Redux/actions';\nimport '../styles/feedback.css';\n\nclass Feedback extends Component {\n  componentDidMount() {\n    const { score, picture, name } = this.props;\n    const rankingStorage = JSON.parse(localStorage.getItem('ranking'));\n    const newRankingStorage = [...rankingStorage, { name, score, picture }];\n    localStorage.setItem('ranking', JSON.stringify(newRankingStorage));\n  }\n\n  resetState() {\n    const { resetQuestionsReducer, resetLoginReducer, resetScoreReducer } = this.props;\n    resetQuestionsReducer();\n    resetLoginReducer();\n    resetScoreReducer();\n  }\n\n  render() {\n    const lessThanThree = <h1 data-testid=\"feedback-text\">Podia ser melhor...</h1>;\n    const moreThanThree = <h1 data-testid=\"feedback-text\">Mandou bem!</h1>;\n    const { player: { assertions, score } } = JSON.parse(localStorage.getItem('state'));\n    const numberAssertions = 3;\n    return (\n      <div>\n        <Header />\n        <div className=\"feedback-container\">\n          <div className=\"feedback-score-container\">\n            {assertions < numberAssertions ? lessThanThree : moreThanThree}\n            <p>\n              Pontuação:\n              <span data-testid=\"feedback-total-score\">{ score }</span>\n            </p>\n            <p>\n              Total de acertos:\n              <span data-testid=\"feedback-total-question\">{ assertions }</span>\n            </p>\n          </div>\n          <div className=\"feedback-buttons-container\">\n            <Link to=\"/\">\n              <button\n                className=\"feedback_btn_next\"\n                onClick={ () => this.resetState() }\n                type=\"button\"\n                data-testid=\"btn-play-again\"\n              >\n                Jogar Novamente\n              </button>\n            </Link>\n            <Link to=\"/ranking\">\n              <button\n                className=\"feedback_btn_next\"\n                type=\"button\"\n                data-testid=\"btn-ranking\"\n              >\n                Ver Ranking\n              </button>\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  name: state.loginReducer.name,\n  picture: state.loginReducer.picturePath,\n  score: state.scoreReducer.total,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  resetQuestionsReducer: () => dispatch(resetQuestions()),\n  resetLoginReducer: () => dispatch(resetLogin()),\n  resetScoreReducer: () => dispatch(resetScore()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Feedback);\n\nFeedback.propTypes = {\n  score: PropTypes.number,\n  picture: PropTypes.string,\n  name: PropTypes.string,\n  resetQuestionsReducer: PropTypes.func,\n  resetLoginReducer: PropTypes.func,\n  resetScoreReducer: PropTypes.func,\n}.isRequired;\n"]},"metadata":{},"sourceType":"module"}