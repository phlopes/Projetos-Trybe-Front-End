{"ast":null,"code":"var _jsxFileName = \"/home/phlopes/Projetos/sd-010-a-project-trivia-react-redux/src/components/TriviaCard.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport '../styles/triviaCard.css';\n\nclass TriviaCard extends Component {\n  constructor() {\n    super();\n    this.state = {\n      seconds: 30\n    };\n    this.decrement = this.decrement.bind(this);\n    this.startTimer = this.startTimer.bind(this);\n    this.stopTimer = this.stopTimer.bind(this);\n    this.resetTimer = this.resetTimer.bind(this);\n  }\n\n  componentDidMount() {\n    this.startTimer();\n  }\n\n  componentDidUpdate(prevProps) {\n    const wrongAnswers = document.querySelectorAll('.wrong-answers');\n    const correctAnswer = document.getElementById('correct-answer');\n    wrongAnswers.forEach(button => {\n      button.classList.remove('incorrect');\n    });\n    correctAnswer.classList.remove('correct');\n\n    if (prevProps !== this.props) {\n      this.resetTimer(); // this.stopTimer();\n      // this.startTimer();\n    }\n  }\n\n  resetTimer() {\n    this.setState({\n      seconds: 30\n    });\n  }\n\n  decrement() {\n    const seconds = this.state.seconds;\n\n    if (seconds === 0) {\n      this.stopTimer();\n    } else {\n      this.setState(previousState => ({\n        seconds: previousState.seconds - 1\n      }));\n    }\n  }\n\n  startTimer() {\n    const interval = 1000;\n    this.timer = setInterval(this.decrement, interval);\n  }\n\n  stopTimer() {\n    clearInterval(this.timer);\n  }\n\n  verifyAnswers() {\n    const wrongAnswers = document.querySelectorAll('.wrong-answers');\n    const correctAnswer = document.getElementById('correct-answer');\n    correctAnswer.classList.add('correct');\n    wrongAnswers.forEach(button => {\n      button.classList.add('incorrect');\n    });\n  }\n\n  render() {\n    const _this$props$result = this.props.result,\n          category = _this$props$result.category,\n          question = _this$props$result.question,\n          correctAnswer = _this$props$result.correct_answer,\n          incorrectAnswers = _this$props$result.incorrect_answers;\n    const seconds = this.state.seconds;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      \"data-testid\": \"question-category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, category), React.createElement(\"h2\", {\n      \"data-testid\": \"question-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, question), React.createElement(\"button\", {\n      className: \"questions-buttons\",\n      type: \"button\",\n      id: \"correct-answer\",\n      \"data-testid\": \"correct-answer\",\n      onClick: e => this.verifyAnswers(e),\n      disabled: seconds === 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, correctAnswer), incorrectAnswers.map((answer, index) => React.createElement(\"button\", {\n      className: \"wrong-answers\",\n      type: \"button\",\n      \"data-testid\": `wrong-answer-${index}`,\n      key: answer,\n      onClick: e => this.verifyAnswers(e),\n      disabled: seconds === 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, answer)), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, seconds));\n  }\n\n}\n\nTriviaCard.propTypes = {\n  result: PropTypes.shape({\n    category: PropTypes.string,\n    question: PropTypes.string\n  })\n}.isRequired;\nexport default TriviaCard;","map":{"version":3,"sources":["/home/phlopes/Projetos/sd-010-a-project-trivia-react-redux/src/components/TriviaCard.jsx"],"names":["React","Component","PropTypes","TriviaCard","constructor","state","seconds","decrement","bind","startTimer","stopTimer","resetTimer","componentDidMount","componentDidUpdate","prevProps","wrongAnswers","document","querySelectorAll","correctAnswer","getElementById","forEach","button","classList","remove","props","setState","previousState","interval","timer","setInterval","clearInterval","verifyAnswers","add","render","result","category","question","correct_answer","incorrectAnswers","incorrect_answers","e","map","answer","index","propTypes","shape","string","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport '../styles/triviaCard.css';\n\nclass TriviaCard extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      seconds: 30,\n    };\n\n    this.decrement = this.decrement.bind(this);\n    this.startTimer = this.startTimer.bind(this);\n    this.stopTimer = this.stopTimer.bind(this);\n    this.resetTimer = this.resetTimer.bind(this);\n  }\n\n  componentDidMount() {\n    this.startTimer();\n  }\n\n  componentDidUpdate(prevProps) {\n    const wrongAnswers = document.querySelectorAll('.wrong-answers');\n    const correctAnswer = document.getElementById('correct-answer');\n    wrongAnswers.forEach((button) => {\n      button.classList.remove('incorrect');\n    });\n    correctAnswer.classList.remove('correct');\n\n    if (prevProps !== this.props) {\n      this.resetTimer();\n      // this.stopTimer();\n      // this.startTimer();\n    }\n  }\n\n  resetTimer() {\n    this.setState({\n      seconds: 30,\n    });\n  }\n\n  decrement() {\n    const { seconds } = this.state;\n    if (seconds === 0) {\n      this.stopTimer();\n    } else {\n      this.setState((previousState) => ({\n        seconds: previousState.seconds - 1,\n      }));\n    }\n  }\n\n  startTimer() {\n    const interval = 1000;\n    this.timer = setInterval(\n      this.decrement, interval,\n    );\n  }\n\n  stopTimer() {\n    clearInterval(this.timer);\n  }\n\n  verifyAnswers() {\n    const wrongAnswers = document.querySelectorAll('.wrong-answers');\n    const correctAnswer = document.getElementById('correct-answer');\n    correctAnswer.classList.add('correct');\n    wrongAnswers.forEach((button) => {\n      button.classList.add('incorrect');\n    });\n  }\n\n  render() {\n    const {\n      result: {\n        category,\n        question,\n        correct_answer: correctAnswer,\n        incorrect_answers: incorrectAnswers,\n      },\n    } = this.props;\n    const { seconds } = this.state;\n\n    return (\n      <div>\n        <h1 data-testid=\"question-category\">{category}</h1>\n        <h2 data-testid=\"question-text\">{question}</h2>\n        <button\n          className=\"questions-buttons\"\n          type=\"button\"\n          id=\"correct-answer\"\n          data-testid=\"correct-answer\"\n          onClick={ (e) => this.verifyAnswers(e) }\n          disabled={ seconds === 0 }\n        >\n          {correctAnswer}\n        </button>\n        {incorrectAnswers.map((answer, index) => (\n          <button\n            className=\"wrong-answers\"\n            type=\"button\"\n            data-testid={ `wrong-answer-${index}` }\n            key={ answer }\n            onClick={ (e) => this.verifyAnswers(e) }\n            disabled={ seconds === 0 }\n          >\n            {answer}\n          </button>\n        ))}\n        <p>{seconds}</p>\n      </div>\n    );\n  }\n}\n\nTriviaCard.propTypes = {\n  result: PropTypes.shape({\n    category: PropTypes.string,\n    question: PropTypes.string,\n  }),\n}.isRequired;\nexport default TriviaCard;\n"]},"metadata":{},"sourceType":"module"}